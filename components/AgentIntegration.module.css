.orbitWrap {
  position: relative;
  width: 520px;
  height: 520px;
  margin: 24px auto;
  align-self: center;
}
.sun {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 160px;
  height: 160px;
  transform: translate(-50%, -50%);
  border-radius: 9999px;
  /* background: radial-gradient(circle at 50% 50%, #F3EDFF 0%, #E7DAFF 40%, #D8C4FF 100%); */
  background: #6E0EFF;
  display: grid;
  place-items: center;
  overflow: hidden;
}
.sun img { width: 72px; height: auto; }

.ring {
  position: absolute;
  left: 50%; top: 50%;
  border: 0.5px dashed rgba(0, 0, 0, 0.08);
  border-radius: 9999px;
  transform: translate(-50%, -50%);
  pointer-events: none;
}
.ring1 { width: 320px; height: 320px; animation: spin 38s linear infinite; background:rgba(0, 0, 0, 0.02) }
.ring2 { width: 480px; height: 480px; animation: spin 52s linear infinite reverse; background:rgba(0, 0, 0, 0.02) }
.ring3 { width: 640px; height: 640px; animation: spin 68s linear infinite; background:rgba(0, 0, 0, 0.02) }

/* NUEVO: capas que giran y contienen los items */
.spinLayer {
  position: absolute;
  left: 50%; top: 50%;
  width: 520px; height: 520px;
  transform: translate(-50%, -50%);
  transform-origin: center;
}
.spinFast { animation: spin 38s linear infinite; }
.spinSlow { animation: spin 58s linear infinite reverse; }

/* Item orbital: se coloca por ángulo y radio dentro de la capa */
.orbitItem {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center;
}

/* POSICIONA POR ÁNGULO Y RADIO, Y LUEGO ANULA LA ROTACIÓN PARA LOS HIJOS */
.anchor {
  transform: rotate(var(--angle, 0deg)) translate(var(--radius, 160px)) rotate(calc(-1 * var(--angle, 0deg)));
  transform-origin: center;
  will-change: transform;
}

/* El wrap del contenido contrarrota la capa para mantenerlo siempre horizontal */
.contentWrap {
  transform-origin: center;
  will-change: transform;
}
.contentWrapFast { animation: spinCounter 38s linear infinite; }
.contentWrapSlow { animation: spinCounter 58s linear infinite reverse; }
/* si ya tienes órbita exterior, mantenemos su contrarrotación */
.contentWrapOuter { animation: spinCounter 76s linear infinite; }

/* El contenido ya no necesita rotar por -ángulo; se mantiene horizontal por las reglas anteriores */
.content {
  display: flex;
  align-items: center;
  gap: 8px;
  /* antes: transform: rotate(calc(-1 * var(--angle, 0deg))); */
  transform-origin: center;
}

.badge {
  width: 44px; height: 44px;
  border-radius: 9999px;
  background: #ffffff;
  box-shadow: var(--shadow-card);
  display: grid; place-items: center;
  overflow: hidden;
}

.badge img { width: 28px; height: auto; object-fit: contain; }

.prompt {
  font-size: 12px; line-height: 1;
  background: #ffffff;
  /* border: 0.5px solid rgba(0, 0, 0, 0.08); */
  border-radius: 9999px;
  padding: 10px 12px;
  box-shadow: var(--shadow-card);
  box-shadow: 0px 1px 12px rgba(0, 0, 0, 0.06);
  white-space: nowrap;
}
.promptIssue {
  background: #FFF5F5;
  border-color: #FFD5D5;
  color: #9B1C1C;
}
.promptAction {
  background: #F5F9FF;
  border-color: #D6E7FF;
  color: #1C4ED8;
}
.promptSuccess {
  background: #F2FFF6;
  border-color: #CDEEDB;
  color: #12784C;
}

@keyframes spin {
  to { transform: translate(-50%, -50%) rotate(360deg); }
}
@keyframes spinCounter {
  to { transform: rotate(-360deg); }
}

/* NUEVA CAPA EXTERIOR */
.spinOuter { animation: spin 76s linear infinite; }

.contentWrap {
  transform-origin: center;
}
.contentWrapFast { animation: spinCounter 38s linear infinite; }
.contentWrapSlow { animation: spinCounter 58s linear infinite reverse; }
/* Contrarrotación para la órbita exterior */
.contentWrapOuter { animation: spinCounter 76s linear infinite; }

/* Safari-only override:
   - Make ring2 and the middle spin layer rotate clockwise (no reverse)
   - Adjust the contentWrapSlow to counterclockwise (no reverse) so text stays horizontal
   This avoids Safari issues with reverse + composed transforms.
*/
@supports (-webkit-touch-callout: none) {
  .ring2 { animation: spin 52s linear infinite; }
  .spinSlow { animation: spin 58s linear infinite; }
  .contentWrapSlow { animation: spinCounter 58s linear infinite; }
}